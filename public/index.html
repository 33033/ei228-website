<!DOCTYPE html>




<html>
  <head>
	<meta name="generator" content="Hugo 0.32.4" />
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title> 工科创II-B第十四组</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Your name">
<meta name="description" content="Cool description">
<meta http-equiv="content-language" content="en-AU" />














<meta name="og:site_name" content="工科创II-B第十四组">
<meta name="og:title" content="工科创II-B第十四组">
<meta name="og:url" content="http://35.194.229.104/">
<meta name="twitter:title" content="工科创II-B第十四组" />
<meta name="twitter:url" content="http://35.194.229.104/" />
<meta name="twitter:card" content="" />




    

<link rel="stylesheet" href="css/animate.css">

<link rel="stylesheet" href="css/icomoon.css">

<link rel="stylesheet" href="css/simple-line-icons.css">

<link rel="stylesheet" href="css/magnific-popup.css">

<link rel="stylesheet" href="css/bootstrap.css">

<link rel="stylesheet" href="css/style.css">

<link rel="stylesheet" href="css/default.css">

  </head>
  <body>

    
    <div class="fh5co-loader"></div>
    <div class="fh5co-page">
      <div id="fh5co-container">
	
	<div id="fh5co-home" class="js-fullheight-home" data-section="home" style="background-image: url(http://35.194.229.104/images/hero_bg.jpg);" data-stellar-background-ratio="0.5">
  <div class="container">
    <div class="col-md-6">
      <div class="js-fullheight-home fh5co-copy">
	<div class="js-fullheight-home fh5co-copy-inner">
	  <h1>工科创II-B第十四组</h1>
	  <h2>小车走黑线</h2>
	</div>
      </div>
    </div>
  </div>
</div>

	
	<div class="js-sticky">
  <div class="fh5co-main-nav">
    <div class="container">
      <div class="fh5co-menu-1">

	<a href="#" data-nav-section="home">首页</a>
	
	<a href="#" data-nav-section="mission">项目介绍</a>
	
	<a href="#" data-nav-section="services">软件部分</a>
	
	<a href="#" data-nav-section="team">硬件部分</a>
	
	<a href="#" data-nav-section="people">小组成员</a>
	      
	<a href="#" data-nav-section="contact">附录</a>
	
      </div>
    </div>
  </div>
</div>


	
	
	<div id="fh5co-about" data-section="mission">
  <div class="fh5co-2col">
    
    <div class="fh5co-2col-inner left">
      
      <div class="fh5co-tabs-container">
	<ul class="fh5co-tabs fh5co-three">
	  
	  <li class="active">
	    <a href="#" data-tab=intro>项目介绍</a>
	  </li>
	  
	  <li>
	    <a href="#" data-tab=struct>结构说明</a>
	  </li>
	  
	  <li>
	    <a href="#" data-tab=result>完成情况</a>
	  </li>
	  
	</ul>

	
	
	<div class="fh5co-tab-content active" data-tab-content=intro>
	
	  <h2>项目整体介绍</h2>
	  <ul><li>本次课程项目的要求是利用计算机自动发布指令控制小车走黑线。</li><li>我们使用的软件操作平台为Xcode和opencv，用于分析地图并得出抽象路线、实时监控小车位置、根据小车位置发送指令。</li><li>硬件部分为蓝牙、MSP430单片机与老师提供的小车，用于接收指令并按照指令前行。</li></ul>

	</div>
	
	
	<div class="fh5co-tab-content" data-tab-content=struct>
	
	  <h2>整体结构说明</h2>
	  <ul><li>用计算机自带摄像头拍摄地图，分析并得出路径与拐点</li><li>计算机通过摄像头监控小车位置，得出小车前往下一个拐点的方向，并发送指令</li><li>小车通过蓝牙接收指令，由单片机转化为对小车的控制，让小车运行</li></ul>

	</div>
	
	
	<div class="fh5co-tab-content" data-tab-content=result>
	
	  <h2>整体完成情况</h2>
	  <ul class='checked'><li>计算机可抽象出跑道，实时采集小车图像并发送指令</li><li>小车可自由前后左右运动，可通过蓝牙接收计算机指令，按黑线前进</li><li>小车整体运动流畅，速度适中，转弯灵活，并在重点的自动停止</li></ul>

	</div>
	


      </div>
      
    </div>
    
  </div>
  
  <div class="fh5co-2col fh5co-text">
    <div class="fh5co-grid">
      
      
      <div class="fh5co-grid-item" style="background-image: url(http://35.194.229.104/images/photo.jpg);"></div>
      
      <div class="fh5co-grid-item" style="background-image: url(http://35.194.229.104/images/hero_bg_orange.jpg);"></div>
      
      <div class="fh5co-grid-item" style="background-image: url(http://35.194.229.104/images/hero_bg_blue.jpg);"></div>
      
      <div class="fh5co-grid-item" style="background-image: url(http://35.194.229.104/images/working.jpg);"></div>
      
      
      
    </div>
  </div>
</div> 

	
	
	
	<div id="fh5co-services" data-section="services">
  
  
  <div class="fh5co-video"><a href="video.mp4" class="popup-vimeo"><i class="icon-play2"></i></a> <span>Watch video</span></div>
  
  <div class="container">
    <div class="col-md-6 col-md-offset-3 text-center fh5co-heading">
      <h2>软件部分</h2>
      <p>运行环境：MAC OS系统 Xcode+OpenCV</p>
    </div>
    
    
    <div class="col-md-4">
      <div class="service">
	<div class="icon"><i class=icon-feed></i></div>
	<h3>蓝牙串口通信</h3>
	<p>参考2015-12B02小组的蓝牙串口代码，经过针对本组小车和计算机进行的细节改动，包装成go(), stop(), turnleft(), turnright()函数，将指令传输给小车。</p>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="service">
	<div class="icon"><i class=icon-eye></i></div>
	<h3>图像获取</h3>
	<p>使用计算机内置摄像头，调用cvCreateCameraCapture()获取图像，绘制窗口的部分包装成image.h 和image.cpp</p>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="service">
	<div class="icon"><i class=icon-layers></i></div>
	<h3>图像处理：透视变换</h3>
	<p>手动选择窗口图像的四个角，主要调用了cvGetPerspectiveTransform()和cvWarpPerspective()， 对图像进行透视变换， 具体实现在perspectiveTransform.h perspectiveTransform.cpp</p>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="service">
	<div class="icon"><i class=icon-frame></i></div>
	<h3>图像处理：二值化</h3>
	<p>利用opencv内置cvThreshold()，将数值小于设定阈值的点设置成0，其余设置为255，使透视变换后的图像变为黑白两种颜色，具体实现在binarization.h binarization.cpp</p>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="service">
	<div class="icon"><i class=icon-target></i></div>
	<h3>图像处理：细化</h3>
	<p>通过迭代的方式，每次迭代将图像减少一最外层的一个像素点，并保持连通性，对二值化后的图像进行细化，再对细化结果进行判断，将距离较近的直线合并成一条直线（去掉误差产生的多余直线），具体实现在hough.h hough.cpp</p>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="service">
	<div class="icon"><i class=icon-cursor></i></div>
	<h3>小车追踪与控制</h3>
	<p>车头车尾分别用橙色和绿色两个色块，用camsift算法找到它们的位置，车头车尾的连线为小车矢量，路径转折点间的连线为路径矢量，通过这两个矢量的夹角，计算给小车下达的指令，通过tracking.h tracking.cpp 和controlling.h controlling.cpp实现</p>
      </div>
    </div>
    
    
    
  </div>
  
</div> 

	
	
	
	<div id="fh5co-gallery">
  
  <a href="http://35.194.229.104/images/%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2.jpeg" class="fh5co-item image-popup" style="background-image: url(http://35.194.229.104/images/%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2.jpeg)">
    <div class="fh5co-overlay"></div>
    <div class="fh5co-copy">
      <div class="fh5co-copy-inner">
	<h2>透视变换</h2>
	
      </div>
    </div>
  </a>
  
  <a href="http://35.194.229.104/images/%E4%BA%8C%E5%80%BC%E5%8C%96.jpeg" class="fh5co-item image-popup" style="background-image: url(http://35.194.229.104/images/%E4%BA%8C%E5%80%BC%E5%8C%96.jpeg)">
    <div class="fh5co-overlay"></div>
    <div class="fh5co-copy">
      <div class="fh5co-copy-inner">
	<h2>二值化</h2>
	
      </div>
    </div>
  </a>
  
  <a href="http://35.194.229.104/images/%E7%BB%86%E5%8C%96%E5%A4%84%E7%90%86.jpeg" class="fh5co-item image-popup" style="background-image: url(http://35.194.229.104/images/%E7%BB%86%E5%8C%96%E5%A4%84%E7%90%86.jpeg)">
    <div class="fh5co-overlay"></div>
    <div class="fh5co-copy">
      <div class="fh5co-copy-inner">
	<h2>细化处理</h2>
	
      </div>
    </div>
  </a>
  
  <a href="http://35.194.229.104/images/%E7%A1%AE%E5%AE%9A%E8%B7%AF%E5%BE%84.jpeg" class="fh5co-item image-popup" style="background-image: url(http://35.194.229.104/images/%E7%A1%AE%E5%AE%9A%E8%B7%AF%E5%BE%84.jpeg)">
    <div class="fh5co-overlay"></div>
    <div class="fh5co-copy">
      <div class="fh5co-copy-inner">
	<h2>确定路径</h2>
	
      </div>
    </div>
  </a>
  
  <a href="http://35.194.229.104/images/%E5%AE%9A%E4%BD%8D%E5%B0%8F%E8%BD%A6.jpeg" class="fh5co-item image-popup" style="background-image: url(http://35.194.229.104/images/%E5%AE%9A%E4%BD%8D%E5%B0%8F%E8%BD%A6.jpeg)">
    <div class="fh5co-overlay"></div>
    <div class="fh5co-copy">
      <div class="fh5co-copy-inner">
	<h2>定位小车</h2>
	
      </div>
    </div>
  </a>
  
</div> 

	
	
	
	<div id="fh5co-team" data-section="team">
  <div class="container">
    
    <div class="col-md-6 col-md-offset-3 text-center fh5co-heading">
      <h2>硬件部分</h2>
      <p>完整代码请<a href="#" data-toggle="modal" data-target="#myModal">点击这里</a></p>
    </div>
   
    
    
    <div class="col-md-4">
      <div class="person">
	<img src="http://35.194.229.104/images/photo.jpg" alt="" class="img-responsive">
	<h3>小车整体设计</h3>
	<h4></h4>
	<p>小车的单片机为MSP430单片机，通过Energia软件编程。</p>
	<ul class="social">
	  
	  
	  
	  
	  
	  
	</ul>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="person">
	<h3>Serial.begin()</h3>
	<h4></h4>
	<p>打开串口，设置数据传输速率</p>
	<ul class="social">
	  
	  
	  
	  
	  
	  
	</ul>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="person">
	<h3>Serial.available()</h3>
	<h4></h4>
	<p>判断是否是否接收到消息</p>
	<ul class="social">
	  
	  
	  
	  
	  
	  
	</ul>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="person">
	<h3>Serial.read()</h3>
	<h4></h4>
	<p>从串口接收信息并返回</p>
	<ul class="social">
	  
	  
	  
	  
	  
	  
	</ul>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="person">
	<h3>forward(), turnleft(), turnright(), _stop()</h3>
	<h4></h4>
	<p>向引脚输出信号，分别控制小车前进、左转、右转、停止</p>
	<ul class="social">
	  
	  
	  
	  
	  
	  
	</ul>
      </div>
    </div>
    
    
  </div>
</div> 

	      
	      
	      
	     
<div id="fh5co-people" data-section="people">
  
  
  
  <div class="container">
    <div class="col-md-6 col-md-offset-3 text-center fh5co-heading">
      <h2>小组成员</h2>
      <p>从左至右依次为李雪嫣，李沐晗，刘悦，孙晨鸽</p>
    </div>
    <div class="col-md-6 col-md-offset-3">
      <img src="images/people.jpg" class="img-responsive img-rounded" alt="Responsive image" style="margin-bottom:50px;">
    </div>
    
    <div class="col-md-12">
	    
    <!--collapse-->
	    
<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingOne">
      <h4 class="panel-title">
        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
          李雪嫣·组长·硬件制作
        </a>
      </h4>
    </div>
    <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
      <div class="panel-body" style="font-size:14px;">
         作为组长，我负责团队中的任务分配与硬件制作部分。
		<br>这个课程项目所设计的知识，如opencv和单片机，对于我们四个人来说基本都是没有接触过的，这让分工出现困难。最后我们决定由两位队员负责软件部分，两位队员负责硬件部分。
		<br>我们的蓝牙连接部分比较顺利，主要的问题出在计算机对小车位置的判断与小车运行上。
		<br>由于计算机对于颜色判断上会受到光线之类因素的影响，与肉眼所见到的颜色并不相同，这就导致计算机无法识别小车上的色块。我们多次改变计算机内置的颜色还是无法识别后，我们选择寻找计算机识别度最高的物体颜色，再更改色块，这样计算机对小车的识别就非常稳定。
		<br>而小车运行上的问题在于其左右轮接收相同信号时的转速不同，导致小车前进路线有偏移，这就需要我们不断调试，找到能让两个轮子转速相同的信号。
		<br>通过这样对一个个问题的出现、不断尝试再到解决，我们感受到了团队合作与分工的重要性，也学会了从各种不同的角度解决问题。
		<br>感谢队友们一个学期以来的合作与努力，也感谢工科创课程老师的帮助，让我们这一次圆满完成了课程项目的目标。期待下次能再与这一群伙伴共同参与其他的科创项目。
	
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingTwo">
      <h4 class="panel-title">
        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
          李沐晗·组员·硬件调试、网页制作
        </a>
      </h4>
    </div>
    <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
      <div class="panel-body" style="font-size:14px;">
        这次工科创2B的经历对我来说是非常难忘的。<br>课程中我主要负责了网站制作任务。同时我也在硬件组，全程参与了整个开发。我认为我做得不错。<br>但是，如果没有优秀的队友们，这一切是决不可能的。课程中我最大的收获就是增进了和班里同学们的友谊。<br>为了完成这个任务，我们花了很多时间在一起工作。一起拿到小车，一起花费一个又一个下午调试程序、修改参数，一起克服重重困难到一起见证最后的成功。这些时间使我们互相更加了解，使我们成为一个欢乐而高效的团队。在专业培养中，这种锻炼团队合作的机会是非常少的，因此这门课上的经历显得十分珍贵。这些共同努力的日子，对我来说是非常温暖，非常难忘的记忆。<br>而且，我在这门课中增加了自信心。<br>从开学听了介绍后的一头雾水，到完全明白小车的运行机理，看懂每一行代码，这一切都是我们团队独立完成的。现在回顾，并不像当初听起来那样难如登天。相信今后的道路上，若要再次踏入完全未知的领域，这次工科创课程的经历也总能成为我心中的一份小而真切的动力。  
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingThree">
      <h4 class="panel-title">
        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          刘悦·组员·软件调试、环境配置、报告撰写
        </a>
      </h4>
    </div>
    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
      <div class="panel-body" style="font-size:14px;">
        在这个项目中我负责的是软件调试，环境配置。前期和组内成员一起通读往届学长学姐的源代码，边读边查资料，了解了很多opencv中函数的功能，同时也学习了一些图像处理的方法以及一些方法背后的原理，例如透视变换和细化算法的数学原理，这个过程我体会到计算机编程不能脱离数学，没有数学的支撑，也不能得到许多实用严谨的算法；后期配合组内成员一起调试代码和环境，调试过程中发现了很多意想不到的问题，像是电脑摄像头不能足够高导致透视误差不能忽略，效果受光线影响和很大等问题，这段经历让我体会到了动手操作的重要性。<br>回忆小组成员们一起合作完成大作业的日子，开始时自学opencv，单片机的迷茫和努力，调试过程陷入瓶颈的难过和互相鼓励，最后小车成功走完黑线的激动和兴奋。感谢大家的团结和投入，和大家一起合作很开心！
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingFour">
      <h4 class="panel-title">
        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
          孙晨鸽·组员·软件制作
        </a>
      </h4>
    </div>
    <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
      <div class="panel-body" style="font-size:14px;">
        工科创是一门很不一样的课程，没有老师讲解理论知识，甚至没有课本参考，所有知识都需要在自己动手的过程中去学习和摸索。<br>    刚开始做小车的时候，可以说是毫无头绪，面对着诸多难关不知道该攻克什么，更不知道怎样攻克。每每这时，就庆幸共同完成这门课程的是一个团队，小组成员一起学习OpenCV ，一起调试小车的过程中，团队协作能力，代码应用能力都有了很大提高，可以说是大学一次难忘的具有知识和人生双重意义的课程。<br>    我承担的是软件部分的实现，主要包括实现小车和PC端蓝牙串口通讯，图像处理和小车控制。由于我的电脑是MAC OS系统，蓝牙串口通信和Windows有所差别，资料也比较少，于是自己搜集了一些MAC蓝牙端口的资料，同时也借鉴了使用MAC控制小车的学长学姐们的方法，主要参考了2015年秋季学期第二组关于蓝牙串口通信的代码，经过多次修改和调试，终于成功实现了与小车的通信。图像处理是在Xcode+OpenCV下实现的，由于OpenCV函数包装和套路比较成熟，资料也比较丰富，在我们小组的共同讨论下实现的比较顺利。小车控制的函数主要借鉴了学长学姐的代码，但是在实际追踪小车，控制小车的过程中还是出现了很多一开始没想到的问题，比如小车车头车尾的色块在不同亮度条件下会有差别，由于我们用的是电脑内置摄像头，在追踪时会因为光的透视现象产生误差等等，在学长学姐代码的基础上，我们做了一些补充和修改，经过很多次绝望的调试，也终于取得了令人较为满意的成果。<br>    这次做小车的经历使我收获颇丰。一方面进一步深入了解了我自己的电脑的蓝牙端口是怎样调用，怎样和外接设备进行信息传输的，另一方面代码的学习和应用能力也有了一定的提高，更重要的是学会了在项目中和队友沟通和协作。感谢工科创2B带给我大学学习里一次不同的体验。  
      </div>
    </div>
  </div>
</div>
	
	    
	    
	    
    </div>
    
  </div>
  

		
		
</div> 
	      
	      

	
	<div id="fh5co-contact" data-section="contact">
  <div class="container">
    <div class="col-md-6 col-md-offset-3 text-center fh5co-heading">
      
      <h2>附录</h2>
      <p><p><a href="downloads/sketch_nov25a.ino">硬件部分代码</a></p><p><a href="downloads/PC端代码.zip">软件部分代码</a></p><p>参考资料</p>
</p>
      
    </div>
  </div>
</div>

	
	
	
	<div id="fh5co-footer">
  <div class="container">
    <div class="row">
      
      <div class="col-md-6">
	<small>&copy; 2016 Free HTML5 Template. All Rights Reserved. <br> Designed by <a href='http://freehtml5.co/' target='_blank'>FreeHTML5.co</a> Demo Images: <a href='http://pexels.com/' target='_blank'>Pexels</a><br>Hugo port by <a href='https://github.com/SteveLane/' target='_blank'>SteveLane</a></small>
      </div>
      <div class="col-md-6">
	<ul class="fh5co-social">
	  
	  <li><a href="#"><i class="icon-github"></i></a></li>
	  
	  
	  
	  
	  
	  
	</ul>
      </div>
      
    </div>
  </div>
</div>

	
      
      </div>
    </div>
    
    <div class="gototop js-top">
  <a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
</div>

<script src="js/highlight.pack.js"></script>

<script src="js/jquery.min.js"></script>

<script src="js/jquery.easing.1.3.js"></script>

<script src="js/bootstrap.min.js"></script>

<script src="js/jquery.waypoints.min.js"></script>

<script src="js/jquery.stellar.min.js"></script>

<script src="js/jquery.magnific-popup.min.js"></script>
<script src="js/magnific-popup-options.js"></script>

<script src="js/main.js"></script>

    
  </body>

  <!-- Modal -->
      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	            <div class="modal-dialog modal-lg" role="document">
			            <div class="modal-content">
					              <div class="modal-header">
							                  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
									  <h4 class="modal-title" id="myModalLabel">硬件部分代码</h4>
										                </div>
												          <div class="modal-body">
														              <pre>
            <code class="C++">

#define IN1 10
#define IN2 9     //定义IN1接10引脚，控制左轮前进；IN2接9引脚，控制左轮后退
#define IN3 12 
#define IN4 13     //定义IN3接12引脚，控制右轮前进；IN4接13引脚，控制右轮后退
#define STEER 14

#include &lt;Servo.h&gt;
Servo servo_pin_14;

void forward( );
void back( );
void turnLeft( );
void turnRight( );
void turnbackLeft( );
void turnbackRight( );
void turnLeftOrigin( );
void turnRightOrigin( );
void _stop();          //声明要用到的函数

int TURN = 120;
int TURNZUO = 100;
int RUN1 = 100;//左轮前进
int RUN2 = 80;//右轮前进

void setup()
{
  pinMode(IN1,OUTPUT);
  pinMode(IN2,OUTPUT);
  pinMode(IN3,OUTPUT);
  pinMode(IN4,OUTPUT);
  Serial.begin(9600);// 打开串口，并将数据传输速率设置为9600bps
}
//循环接受蓝牙信号，根据信号
int i;
void loop()
{
    if(Serial.available())// 判断是否收到消息，有则返回值为1，否则为0
    {
      i=Serial.read(); //从串口中读取信息，并作为返回值返回。
      
      switch(i) //根据接收到的信息运行不同函数
      {
        case'1':
          {turnLeft( );  break; }
        case'2':
          {forward( );   break;}
        case'3':
          {turnRight( );   break;}
        case'4':
          {turnLeftOrigin( );   break;}
        case'5':
          {_stop();   break;}
        case'6':
          {turnRightOrigin( );   break;}
        case'7':
          {turnbackLeft( );   break;}
        case'8':
          {back( );   break;}
        case'9':
          {turnbackRight( );   break;}
      }
    }    
}

//forward函数功能：控制车前进

void forward( )
{
  analogWrite(IN1,RUN2);      
  digitalWrite(IN2,LOW);         //左轮前进
  analogWrite(IN3,RUN1);      
  digitalWrite(IN4,LOW);         //右轮前进
}

//back函数功能：控制车后退

void back( )
{
  digitalWrite(IN1,LOW);      
  analogWrite(IN2,RUN1);        //左轮后退
  digitalWrite(IN3,LOW);      
  analogWrite(IN4,RUN1);        //右轮后退
}

// turnLeft函数功能：控制车左转

void turnLeft( )
{
  digitalWrite(IN1,LOW);      
  digitalWrite(IN2,LOW);         //左轮静止不动
  analogWrite(IN3,TURNZUO);      
  digitalWrite(IN4,LOW);         //右轮前进
}

// turnbackLeft函数功能：控制车左后转弯

void turnbackLeft( )
{
  digitalWrite(IN1,LOW);      
  digitalWrite(IN2,LOW);         //左轮静止不动
  digitalWrite(IN3,LOW);      
  analogWrite(IN4,TURN);         //右轮后退
}

//turnRight函数功能：控制车右后转弯

void turnRight( )
{
  analogWrite(IN1,TURNZUO);      
  digitalWrite(IN2,LOW);         //左轮前进
  digitalWrite(IN3,LOW);      
  digitalWrite(IN4,LOW);         //右轮静止不动
}

// turnbackRight：函数功能：控制车右转

void turnbackRight( )
{
  digitalWrite(IN1,LOW);      
  analogWrite(IN2,TURNZUO);         //左轮后退
  digitalWrite(IN3,LOW);      
  digitalWrite(IN4,LOW);         //右轮静止不动
}

// turnLeftOrigin函数功能：控制车原地左转

void turnLeftOrigin( )
{
  digitalWrite(IN1,LOW);      
  analogWrite(IN2,TURN);        //左轮后退
  analogWrite(IN3,TURN);      
  digitalWrite(IN4,LOW);         //右轮前进
}

// turnRightOrigin函数功能：控制车原地右转

void turnRightOrigin( )
{
  analogWrite(IN1,TURN);      
  digitalWrite(IN2,LOW);        //左轮前进
  digitalWrite(IN3,LOW);      
  analogWrite(IN4,TURN);       //右轮后退
}

// stop函数功能：控制车停止

void _stop()
{
  digitalWrite(IN1,LOW);      
  digitalWrite(IN2,LOW);         //左轮静止不动
  digitalWrite(IN3,LOW);      
  digitalWrite(IN4,LOW);         //右轮静止不动
}

</code>
            </pre>

	              </div>
		              </div>
			            </div>
				        </div>

</html>
